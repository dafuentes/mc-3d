import{r as o,a as T}from"./app-d375cc9c.js";import{_ as X,e as te,u as ne,c as oe,i as se,E as ce,B as ie,a as le,b as ue,T as ae,d as fe,P as pe}from"./Portfolio-b3ad2c5a.js";function j(r,e,n){var t,i,s,a,l;e==null&&(e=100);function c(){var p=Date.now()-a;p<e&&p>=0?t=setTimeout(c,e-p):(t=null,n||(l=r.apply(s,i),s=i=null))}var f=function(){s=this,i=arguments,a=Date.now();var p=n&&!t;return t||(t=setTimeout(c,e)),p&&(l=r.apply(s,i),s=i=null),l};return f.clear=function(){t&&(clearTimeout(t),t=null)},f.flush=function(){t&&(l=r.apply(s,i),s=i=null,clearTimeout(t),t=null)},f}j.debounce=j;var W=j;function de(r){let{debounce:e,scroll:n,polyfill:t,offsetSize:i}=r===void 0?{debounce:0,scroll:!1,offsetSize:!1}:r;const s=t||(typeof window>"u"?class{}:window.ResizeObserver);if(!s)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[a,l]=o.exports.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),c=o.exports.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:a}),f=e?typeof e=="number"?e:e.scroll:null,p=e?typeof e=="number"?e:e.resize:null,x=o.exports.useRef(!1);o.exports.useEffect(()=>(x.current=!0,()=>void(x.current=!1)));const[z,C,v]=o.exports.useMemo(()=>{const u=()=>{if(!c.current.element)return;const{left:P,top:O,width:L,height:S,bottom:M,right:B,x:E,y:w}=c.current.element.getBoundingClientRect(),d={left:P,top:O,width:L,height:S,bottom:M,right:B,x:E,y:w};c.current.element instanceof HTMLElement&&i&&(d.height=c.current.element.offsetHeight,d.width=c.current.element.offsetWidth),Object.freeze(d),x.current&&!xe(c.current.lastBounds,d)&&l(c.current.lastBounds=d)};return[u,p?W(u,p):u,f?W(u,f):u]},[l,i,f,p]);function b(){c.current.scrollContainers&&(c.current.scrollContainers.forEach(u=>u.removeEventListener("scroll",v,!0)),c.current.scrollContainers=null),c.current.resizeObserver&&(c.current.resizeObserver.disconnect(),c.current.resizeObserver=null)}function y(){c.current.element&&(c.current.resizeObserver=new s(v),c.current.resizeObserver.observe(c.current.element),n&&c.current.scrollContainers&&c.current.scrollContainers.forEach(u=>u.addEventListener("scroll",v,{capture:!0,passive:!0})))}const R=u=>{!u||u===c.current.element||(b(),c.current.element=u,c.current.scrollContainers=V(u),y())};return me(v,Boolean(n)),ve(C),o.exports.useEffect(()=>{b(),y()},[n,v,C]),o.exports.useEffect(()=>b,[]),[R,a,z]}function ve(r){o.exports.useEffect(()=>{const e=r;return window.addEventListener("resize",e),()=>void window.removeEventListener("resize",e)},[r])}function me(r,e){o.exports.useEffect(()=>{if(e){const n=r;return window.addEventListener("scroll",n,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",n,!0)}},[r,e])}function V(r){const e=[];if(!r||r===document.body)return e;const{overflow:n,overflowX:t,overflowY:i}=window.getComputedStyle(r);return[n,t,i].some(s=>s==="auto"||s==="scroll")&&e.push(r),[...e,...V(r.parentElement)]}const he=["x","y","top","bottom","left","right","width","height"],xe=(r,e)=>he.every(n=>r[n]===e[n]);var be=Object.defineProperty,Ee=Object.defineProperties,we=Object.getOwnPropertyDescriptors,Y=Object.getOwnPropertySymbols,_e=Object.prototype.hasOwnProperty,Ce=Object.prototype.propertyIsEnumerable,A=(r,e,n)=>e in r?be(r,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):r[e]=n,U=(r,e)=>{for(var n in e||(e={}))_e.call(e,n)&&A(r,n,e[n]);if(Y)for(var n of Y(e))Ce.call(e,n)&&A(r,n,e[n]);return r},ye=(r,e)=>Ee(r,we(e));function q(r,e,n){if(!r)return;if(n(r)===!0)return r;let t=e?r.return:r.child;for(;t;){const i=q(t,e,n);if(i)return i;t=e?null:t.sibling}}function G(r){try{return Object.defineProperties(r,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return r}}const k=G(o.exports.createContext(null));class J extends o.exports.Component{render(){return o.exports.createElement(k.Provider,{value:this._reactInternals},this.props.children)}}const{ReactCurrentOwner:Oe,ReactCurrentDispatcher:ge}=o.exports.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function ze(){const r=o.exports.useContext(k);if(!r)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const e=o.exports.useId();return o.exports.useMemo(()=>{var t;return(t=Oe.current)!=null?t:q(r,!1,i=>{let s=i.memoizedState;for(;s;){if(s.memoizedState===e)return!0;s=s.next}})},[r,e])}function Re(){var r,e;const n=ze(),[t]=o.exports.useState(()=>new Map);t.clear();let i=n;for(;i;){const s=(r=i.type)==null?void 0:r._context;s&&s!==k&&!t.has(s)&&t.set(s,(e=ge.current)==null?void 0:e.readContext(G(s))),i=i.return}return o.exports.useMemo(()=>Array.from(t.keys()).reduce((s,a)=>l=>o.exports.createElement(s,null,o.exports.createElement(a.Provider,ye(U({},l),{value:t.get(a)}))),s=>o.exports.createElement(J,U({},s))),[t])}const D={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function Pe(r){const{handlePointer:e}=fe(r);return{priority:1,enabled:!0,compute(n,t,i){t.pointer.set(n.offsetX/t.size.width*2-1,-(n.offsetY/t.size.height)*2+1),t.raycaster.setFromCamera(t.pointer,t.camera)},connected:void 0,handlers:Object.keys(D).reduce((n,t)=>({...n,[t]:e(t)}),{}),connect:n=>{var t;const{set:i,events:s}=r.getState();s.disconnect==null||s.disconnect(),i(a=>({events:{...a.events,connected:n}})),Object.entries((t=s.handlers)!=null?t:[]).forEach(([a,l])=>{const[c,f]=D[a];n.addEventListener(c,l,{passive:f})})},disconnect:()=>{const{set:n,events:t}=r.getState();if(t.connected){var i;Object.entries((i=t.handlers)!=null?i:[]).forEach(([s,a])=>{if(t&&t.connected instanceof HTMLElement){const[l]=D[s];t.connected.removeEventListener(l,a)}}),n(s=>({events:{...s.events,connected:void 0}}))}}}}const Le=o.exports.forwardRef(function({children:e,fallback:n,resize:t,style:i,gl:s,events:a=Pe,eventSource:l,eventPrefix:c,shadows:f,linear:p,flat:x,legacy:z,orthographic:C,frameloop:v,dpr:b,performance:y,raycaster:R,camera:u,onPointerMissed:P,onCreated:O,...L},S){o.exports.useMemo(()=>te(ae),[]);const M=Re(),[B,E]=de({scroll:!0,debounce:{scroll:50,resize:0},...t}),w=o.exports.useRef(null),d=o.exports.useRef(null),[_,K]=o.exports.useState(null);o.exports.useImperativeHandle(S,()=>w.current);const I=ne(P),[N,Q]=o.exports.useState(!1),[F,Z]=o.exports.useState(!1);if(N)throw N;if(F)throw F;const g=o.exports.useRef(null);E.width>0&&E.height>0&&_&&(g.current||(g.current=oe(_)),g.current.configure({gl:s,events:a,shadows:f,linear:p,flat:x,legacy:z,orthographic:C,frameloop:v,dpr:b,performance:y,raycaster:R,camera:u,size:E,onPointerMissed:(...m)=>I.current==null?void 0:I.current(...m),onCreated:m=>{m.events.connect==null||m.events.connect(l?se(l)?l.current:l:d.current),c&&m.setEvents({compute:(H,h)=>{const ee=H[c+"X"],re=H[c+"Y"];h.pointer.set(ee/h.size.width*2-1,-(re/h.size.height)*2+1),h.raycaster.setFromCamera(h.pointer,h.camera)}}),O==null||O(m)}}),g.current.render(o.exports.createElement(M,null,o.exports.createElement(ce,{set:Z},o.exports.createElement(o.exports.Suspense,{fallback:o.exports.createElement(ie,{set:Q})},e))))),le(()=>{K(w.current)},[]),o.exports.useEffect(()=>{if(_)return()=>ue(_)},[_]);const $=l?"none":"auto";return o.exports.createElement("div",X({ref:d,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:$,...i}},L),o.exports.createElement("div",{ref:B,style:{width:"100%",height:"100%"}},o.exports.createElement("canvas",{ref:w,style:{display:"block"}},n)))}),Se=o.exports.forwardRef(function(e,n){return o.exports.createElement(J,null,o.exports.createElement(Le,X({},e,{ref:n})))});function De(r){return T("div",{className:"h-screen",children:T(Se,{camera:{fov:45,near:.1,far:2e3,position:[0,0,4]},children:T(pe,{})})})}export{De as default};
